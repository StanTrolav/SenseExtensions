define(["jquery","qlik","ng!$q","ng!$http","./lib/js/components/pp-climber/pp-climber"],function(a,b){"use strict";var c=(b.currApp(),{type:"array",translation:"Lists",ref:"kfLists",allowAdd:!0,allowRemove:!0,allowMove:!0,addTranslation:"Add List",grouped:!0,itemTitleRef:"label",items:{listLabel:{type:"string",ref:"label",expression:"optional",label:"Label",show:!0,defaultValue:""},listType:{type:"string",component:"dropdown",label:"List type",ref:"listType",defaultValue:"FIELD",options:[{value:"FIELD",label:"Field"},{value:"VARIABLE",label:"Variable"},{value:"FLAG",label:"Flag"},{value:"DATERANGE",label:"Date range picker"}],change:function(a){"DATERANGE"==a.listType&&(a.dateMinValue.qValueExpression.qExpr="=Min("+a.qListObjectDef.qDef.qFieldDefs[0]+")",a.dateMaxValue.qValueExpression.qExpr="=Max("+a.qListObjectDef.qDef.qFieldDefs[0]+")")}},dateRangeType:{type:"string",component:"radiobuttons",label:"Date range picker type",ref:"dateRangeType",options:[{value:"FIELD",label:"Field"},{value:"VARIABLES",label:"Variables"}],defaultValue:"FIELD",show:!1},field:{type:"string",expression:"always",expressionType:"dimension",ref:"qListObjectDef.qDef.qFieldDefs.0",defaultValue:"",label:"Field",show:function(a){return"FIELD"==a.listType||"FLAG"==a.listType||"DATERANGE"==a.listType&&"FIELD"==a.dateRangeType},change:function(a){"DATERANGE"==a.listType&&(a.dateMinValue.qValueExpression.qExpr="=Min("+a.qListObjectDef.qDef.qFieldDefs[0]+")",a.dateMaxValue.qValueExpression.qExpr="=Max("+a.qListObjectDef.qDef.qFieldDefs[0]+")")}},variable:{type:"string",ref:"variable",label:"Variable",defaultValue:"",show:function(a){return"VARIABLE"==a.listType},change:function(a){""!=a.variable?a.variableValue.qStringExpression.qExpr="="+a.variable:""}},variableValue:{type:"string",expression:"always",expressionType:"dimension",ref:"variableValue.qStringExpression.qExpr",label:"Variable value",show:!1},dateFromVariable:{type:"string",ref:"dateFromVariable",label:"Date from variable",defaultValue:"",show:function(a){return"DATERANGE"==a.listType&&"VARIABLES"==a.dateRangeType},change:function(a){""!=a.dateFromVariable?a.dateFromValue.qStringExpression.qExpr="="+a.dateFromVariable:""}},dateFromInitSelection:{type:"string",ref:"dateFromInitSelection",expression:"optional",label:"Date from initial selection",defaultValue:"",show:function(a){return"DATERANGE"==a.listType&&"FIELD"==a.dateRangeType},change:function(a){a.dateFromInitSelectionValue=a.dateFromInitSelectionValue||{},a.dateFromInitSelectionValue.qStringExpression="="+a.dateFromInitSelection}},dateToVariable:{type:"string",ref:"dateToVariable",label:"Date to variable",defaultValue:"",show:function(a){return"DATERANGE"==a.listType&&"VARIABLES"==a.dateRangeType},change:function(a){""!=a.dateToVariable?a.dateToVariable.qStringExpression.qExpr="="+a.dateToVariable:""}},dateToInitSelection:{type:"string",ref:"dateToInitSelection",expression:"optional",label:"Date to initial selection",defaultValue:"",show:function(a){return"DATERANGE"==a.listType&&"FIELD"==a.dateRangeType},change:function(a){a.dateToInitSelectionValue=a.dateToInitSelectionValue||{},a.dateToInitSelectionValue.qStringExpression="="+a.dateToInitSelection}},dateFormat:{type:"string",ref:"dateFormat",label:"Field date format",defaultValue:"YYYY-MM-DD",show:function(a){return"DATERANGE"==a.listType}},displayDateFormat:{type:"string",component:"dropdown",ref:"displayDateFormat",label:"Display date format",defaultValue:"YYYY-MM-DD",options:[{value:"YYYY-MM-DD",label:"1980-01-01"},{value:"MMMM D, YYYY",label:"January 1, 1980"},{value:"MM D, YYYY",label:"Jan 1, 1980"}],show:function(a){return"DATERANGE"==a.listType}},dateTodayVariable:{type:"string",ref:"dateTodayVariable",label:"Today variable",defaultValue:"",show:function(a){return"DATERANGE"==a.listType},change:function(a){a.dateTodayValue.qValueExpression.qExpr=""!=a.dateTodayVariable?"="+a.dateTodayVariable:""}},dateTodayValue:{type:"string",expression:"always",ref:"dateTodayValue.qValueExpression.qExpr",label:"Date today value",show:!1},daterangeMinVariable:{type:"string",ref:"daterangeMinVariable",label:"Daterange min variable",defaultValue:"",show:function(a){return"DATERANGE"==a.listType},change:function(a){a.daterangeMinValue.qValueExpression.qExpr=""!=a.daterangeMinVariable?"="+a.daterangeMinVariable:""}},daterangeMinValue:{type:"string",expression:"always",ref:"daterangeMinValue.qValueExpression.qExpr",label:"Date min value",show:!1},daterangeMaxVariable:{type:"string",ref:"daterangeMaxVariable",label:"Date max variable",defaultValue:"",show:function(a){return"DATERANGE"==a.listType},change:function(a){a.daterangeMaxValue.qValueExpression.qExpr=""!=a.daterangeMaxVariable?"="+a.daterangeMaxVariable:""}},daterangeMaxValue:{type:"string",expression:"always",ref:"daterangeMaxValue.qValueExpression.qExpr",label:"Date max value",show:!1},variableValues:{type:"string",ref:"variableValues",expression:"optional",label:"Variable values (comma separated)",defaultValue:"",show:function(a){return"VARIABLE"==a.listType}},initSelection:{type:"string",ref:"initSelection",expression:"optional",label:"Initial selection",show:function(a){return"DATERANGE"!=a.listType}},initSelectionSeparatorComma:{type:"boolean",ref:"initSelectionSeparatorComma",component:"switch",label:"Initial selection separator",defaultValue:!0,options:[{value:!0,label:"Comma"},{value:!1,label:"Custom"}],show:function(a){return"DATERANGE"!=a.listType}},initSelectionSeparator:{type:"string",ref:"initSelectionSeparator",label:"Custom separator",defaultValue:",",show:function(a){return!a.initSelectionSeparatorComma&&("VARIABLE"!=a.listType||"DATERANGE"!=a.listType)}},listVisable:{type:"boolean",ref:"listVisible",label:"Visible",show:function(a){return"DATERANGE"!=a.listType},defaultValue:!0},dateMinValue:{type:"string",expression:"always",ref:"dateMinValue.qValueExpression.qExpr",label:"Date min value",show:!1},dateMaxValue:{type:"string",expression:"always",ref:"dateMaxValue.qValueExpression.qExpr",label:"Date max value",show:!1},dateFromValue:{type:"string",expression:"always",expressionType:"dimension",ref:"dateFromValue.qStringExpression.qExpr",label:"Date from value",show:!1},dateToValue:{type:"string",expression:"always",expressionType:"dimension",ref:"dateToValue.qStringExpression.qExpr",label:"Date to value",show:!1},InitialDataFetchWidth:{type:"number",ref:"qListObjectDef.qInitialDataFetch.0.qWidth",label:"qWidth",show:!1,defaultValue:10},InitialDataFetchHeight:{type:"number",ref:"qListObjectDef.qInitialDataFetch.0.qHeight",label:"qHeight",show:!1,defaultValue:1e3}}}),d={type:"string",component:"dropdown",label:"Initial selection mode",ref:"props.initSelectionMode",defaultValue:"ONCE",options:[{value:"ONCE",label:"Once per session"},{value:"ON_SHEET",label:"On sheet"}]},e={type:"string",component:"dropdown",label:"Align lists",ref:"props.floatMode",defaultValue:"LEFT",options:[{value:"LEFT",label:"Left"},{value:"RIGHT",label:"Right"},{value:"STACK",label:"Stack"}]},f={type:"boolean",component:"switch",label:"Show list label",ref:"props.showLabels",defaultValue:!1,options:[{value:!0,label:"Labels"},{value:!1,label:"Labels off"}],defaultValue:!0},g={type:"items",translation:"Bookmarks.Selections",grouped:!0,items:{settings:{type:"items",label:"Settings",translation:"Bookmarks.Selections",items:{initSelectionSetting:d}}}},h={component:"pp-cl-horizontalselectionbar",translation:"Common.About",show:!0},i={uses:"settings",items:{appearance:{type:"items",translation:"Common.Appearance",grouped:!0,items:{alignMode:e,showLabels:f}},about:h}};return{type:"items",component:"accordion",items:{lists:c,initSelectionSettings:g,appearance:i}}});